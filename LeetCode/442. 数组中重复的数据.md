# 442. 数组中重复的数据

### 题目描述

难度中等572收藏分享切换为英文接收动态反馈

给你一个长度为 `n` 的整数数组 `nums` ，其中 `nums` 的所有整数都在范围 `[1, n]` 内，且每个整数出现 **一次** 或 **两次** 。请你找出所有出现 **两次** 的整数，并以数组形式返回。

你必须设计并实现一个时间复杂度为 `O(n)` 且仅使用常量额外空间的算法解决此问题。

**示例 1：**

```
输入：nums = [4,3,2,7,8,2,3,1]
输出：[2,3]

```

**示例 2：**

```
输入：nums = [1,1,2]
输出：[1]

```

**示例 3：**

```
输入：nums = [1]
输出：[]

```

**提示：**

- `n == nums.length`
- `1 <= n <= 105`
- `1 <= nums[i] <= n`
- `nums` 中的每个元素出现 **一次** 或 **两次**

### 题解 · 原地哈希

- 在把nums自身当做哈希表判断
- 题目规则：nums长度为n，里面的整数大小也在[1, n]区间
- 遍历nums，遍历时把每个整数当做索引，把整数索引对应数字转负数
- 下次有相同的整数索引找到这个位置的数字是负数，那这个整数值则表示出现2次

```jsx
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var findDuplicates = function(nums) {
  const arr = []

  // 把nums自身当做哈希表来记录数字出现2次
  for(let i = 0; i < nums.length; i++) {
    const num = Math.abs(nums[i]) // 拿到当前下标的数字
    if (nums[num - 1] < 0) { // 当前下标的数字 => 指向的位置的数字 是负数则表示 num 出现2次
      arr.push(num)
    } else { // 当前下标的数字 => 指向的位置的数字 转为负数（下次有同样的数字指到这个位置则出现2次）
      nums[num - 1] = -nums[num - 1]
    }
  }

  return arr
};
```